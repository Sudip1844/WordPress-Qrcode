/**
 * Dark Theme Button - Header Sync CSS
 * Ensures button is hidden when header is hidden
 * Works independently of JavaScript rendering
 */

/* When header is hidden, button must be completely hidden */
header[style*="display: none"],
header.hidden,
header[aria-hidden="true"] {
    /* These rules apply when header has these states */
}

/* Button visibility tied to header */
[class*="theme-toggle"],
button[title*="theme"],
button[aria-label*="theme"],
[class*="dark-toggle"] {
    transition: opacity 0.3s ease, visibility 0.3s ease, display 0.3s ease !important;
}

/* Hide button when page is scrolled (header typically hides) */
body.scrolled [class*="theme-toggle"],
body.scrolled button[title*="theme"],
body.scrolled button[aria-label*="theme"],
body.scrolled [class*="dark-toggle"] {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
}

/* Force hide button if header has opacity 0 */
header[style*="opacity: 0"] ~ [class*="theme-toggle"],
header[style*="opacity: 0"] ~ button[title*="theme"],
header[style*="opacity: 0"] ~ button[aria-label*="theme"],
header[style*="opacity: 0"] ~ [class*="dark-toggle"] {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
}

/* Absolute positioning fallback - button should stick to header only */
[class*="theme-toggle"],
button[title*="theme"],
button[aria-label*="theme"],
[class*="dark-toggle"] {
    z-index: 999 !important;
}

/* When NOT scrolled, button is visible */
body:not(.scrolled) [class*="theme-toggle"],
body:not(.scrolled) button[title*="theme"],
body:not(.scrolled) button[aria-label*="theme"],
body:not(.scrolled) [class*="dark-toggle"] {
    pointer-events: auto !important;
}
